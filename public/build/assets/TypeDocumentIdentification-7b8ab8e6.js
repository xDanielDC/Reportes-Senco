import{u as V,r as I,a as L}from"./i18n-validators-bc3fab5c.js";import{_ as q}from"./AppLayout-deca06e6.js";import{_ as N}from"./PrimaryButton-9f83ec13.js";import{_ as T,k as A,L as n,O as R,o as s,c,w as i,a as t,H as v,b as d,f as p,e as u,g as b,t as l,F as w,h as C,n as S}from"./app-8631d0ed.js";import{_ as z}from"./DangerButton-03fa1d82.js";import{_ as O}from"./SecondaryButton-641ff84c.js";import{_ as P}from"./InputLabel-7ab20a25.js";import{a as F}from"./DialogModal-cfec345b.js";import{_ as G}from"./TextInput-c4d1940e.js";const H={components:{TextInput:G,DialogModal:F,InputLabel:P,SecondaryButton:O,DangerButton:z,Link:A,PrimaryButton:N,AppLayout:q},props:{type_document_identifications:Array},setup(){return{v$:V()}},validations(){return{modal:{form:{id:{requiredIf:I(this.modal.editMode)},name:{required:L}}}}},data(){return{table:{data:this.type_document_identifications},modal:{open:!1,editMode:!1,form:{id:"",name:""}}}},methods:{closeModal(){this.modal={open:!1,editMode:!1,form:{id:"",name:""}}},edit(o){this.modal={open:!0,editMode:!0,form:{id:o.id,name:o.name}}},store(){this.v$.modal.form.$touch(),this.v$.modal.form.$invalid?this.$swal({icon:"error",title:"ERROR",text:"Verifica que toda la información este correctamente diligenciada"}):axios.post(route("type-document-identification.store"),this.modal.form).then(o=>{this.closeModal(),this.table.data=o.data}).catch(o=>{this.$swal({icon:"error",title:"Error",text:o.response.data})})},update(){this.v$.modal.form.$touch(),this.v$.modal.form.$invalid?this.$swal({icon:"error",title:"ERROR",text:"Verifica que toda la información este correctamente diligenciada"}):axios.put(route("type-document-identification.update",this.modal.form.id),this.modal.form).then(o=>{this.closeModal(),this.table.data=o.data}).catch(o=>{this.$swal({icon:"error",title:"Error",text:o.response.data})})},destroy(o){this.$swal({icon:"question",title:"¿Eliminar registro?",text:"¡Esta acción no es reversible!",showCancelButton:!0,confirmButtonText:"¡Si, Eliminar!"}).then(e=>{e.isConfirmed&&axios.delete(route("type-document-identification.destroy",o)).then(f=>{this.table.data=f.data}).catch(f=>{this.$swal({icon:"error",title:"Error",text:f.response.data})})})}}},U={class:"flex flex-row"},j={class:"py-12"},J={class:"max-w-8xl mx-6 sm:px-6 lg:px-8"},K={class:"overflow-x-auto sm:-mx-6 lg:-mx-8"},Q={class:"py-2 align-middle inline-block min-w-full"},W={class:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg"},X={class:"min-w-full divide-y divide-gray-200"},Y={class:"bg-white divide-y divide-gray-200"},Z={class:"px-6 py-4 text-left text-sm font-medium"},tt={class:"px-6 py-4 text-left text-sm font-medium"},et={class:"px-6 py-4 text-left text-sm font-medium"},ot={class:"px-6 py-4 text-left text-sm font-medium"},at={class:"px-6 py-4 text-left text-sm font-medium"},st={class:"px-6 py-4 whitespace-nowrap text-center text-sm font-medium"},it={class:"mt-4"},rt={key:0,class:"mt-1"};function nt(o,e,f,x,r,m){const _=n("font-awesome-icon"),y=n("PrimaryButton"),k=n("SecondaryButton"),$=n("DangerButton"),B=n("InputLabel"),M=n("TextInput"),D=n("DialogModal"),E=n("AppLayout"),h=R("permission");return s(),c(E,{title:"Tipos de documentos de identidad"},{header:i(()=>[t("div",U,[e[3]||(e[3]=t("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Tipos de documentos de identidad ",-1)),v((s(),c(y,{type:"button",class:"ml-auto",onClick:e[0]||(e[0]=a=>r.modal.open=!0)},{default:i(()=>[d(_,{icon:"plus",class:"mr-2"}),e[2]||(e[2]=p(" Nuevo ",-1))]),_:1})),[[h,"design.time-state.create"]])])]),default:i(()=>[t("div",j,[t("div",J,[t("div",K,[t("div",Q,[t("div",W,[t("table",X,[e[4]||(e[4]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Nombre "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Creado el "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Creado por "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actualizado el "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actualizado por "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"})])],-1)),t("tbody",Y,[r.table.data.length>0?(s(!0),u(w,{key:0},b(r.table.data,a=>(s(),u("tr",null,[t("td",Z,l(a.name),1),t("td",tt,l(a.created_at),1),t("td",et,l(a.created_by.name),1),t("td",ot,l(a.updated_at),1),t("td",at,l(a.updated_by.name),1),t("td",st,[v((s(),c(k,{class:"mr-2",onClick:g=>m.edit(a)},{default:i(()=>[d(_,{icon:["far","pen-to-square"]})]),_:1},8,["onClick"])),[[h,"report.edit"]]),v((s(),c($,{onClick:g=>m.destroy(a.id)},{default:i(()=>[d(_,{icon:["far","trash-can"]})]),_:1},8,["onClick"])),[[h,"report.destroy"]])])]))),256)):C("",!0)])])])])])])]),d(D,{show:r.modal.open,onClose:m.closeModal},{title:i(()=>[p(l(r.modal.editMode?"Editar":"Crear"),1)]),content:i(()=>[t("div",it,[d(B,{value:"Nombre"}),d(M,{modelValue:r.modal.form.name,"onUpdate:modelValue":e[1]||(e[1]=a=>r.modal.form.name=a),type:"text",class:S(["mt-1 block w-full",{"border-red-500":x.v$.modal.form.name.$error}]),required:"",autocomplete:"Nombre"},null,8,["modelValue","class"]),x.v$.modal.form.name.$error?(s(),u("ul",rt,[(s(!0),u(w,null,b(x.v$.modal.form.name.$errors,(a,g)=>(s(),u("li",{class:"text-red-500",key:g},l(a.$message),1))),128))])):C("",!0)])]),footer:i(()=>[d(k,{onClick:m.closeModal},{default:i(()=>[...e[5]||(e[5]=[p(" Cancelar ",-1)])]),_:1},8,["onClick"]),r.modal.editMode?(s(),c(y,{key:0,class:"ml-3",onClick:m.update},{default:i(()=>[...e[6]||(e[6]=[p(" Actualizar ",-1)])]),_:1},8,["onClick"])):(s(),c(y,{key:1,class:"ml-3",onClick:m.store},{default:i(()=>[...e[7]||(e[7]=[p(" Guardar ",-1)])]),_:1},8,["onClick"]))]),_:1},8,["show","onClose"])]),_:1})}const yt=T(H,[["render",nt]]);export{yt as default};
